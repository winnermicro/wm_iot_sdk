# 🤝 贡献指南

* 🌍 [English](CONTRIBUTING_EN.md)

WM_IoT_SDK 是一个开源项目，我们欢迎并感谢社区成员的贡献。为确保项目健康发展和代码质量，请遵循以下贡献指南。

## 📜 许可证

本项目采用 Apache 2.0 开源许可证，您可以自由使用、修改、分发和销售包含本项目代码的产品。部分第三方组件可能使用其他许可证，这些组件在代码中均有明确标识。

## 💻 开发环境

支持 Windows、和 Linux 系统进行开发。详细的环境搭建指南请参考[WM_IoT_SDK 编程指南](http://doc.winnermicro.net)。

## 📦 代码仓库

- 🏠 主仓库：https://github.com/winnermicro/wm_iot_sdk
- 🐛 问题反馈：通过 GitHub Issues 提交问题和建议
- 🔀 代码提交：通过 GitHub Pull Request 提交修改

## 🔄 贡献流程

1. 🍴 Fork 项目到个人账号
2. 🌱 创建特性分支
3. 💪 提交修改，确保：
   - ✅ 符合代码规范
   - ✅ 提交信息清晰
   - ✅ 包含测试和文档
4. 📤 提交 Pull Request
5. 🤖 等待GitHub Action CICD结果，如果构建成功，会在PR页面显示 ✅ 绿色的勾；如果构建失败，会显示 ❌ 红色的叉，此时需要点击查看详细的构建日志，根据错误信息进行修复，修复后重新提交代码。
6. ⏳ 等待审核和合并

## 📝 提交规范

- 📝 提交信息格式：
  我们采用标准化的 commit 格式，每个提交都应遵循以下规范：

  ```
  <type>(<scope>): <subject>

  <body>
  ```

  每个提交信息包含以下必填部分：

  1. 📋 首行格式 `<type>(<scope>): <subject>`
     - type：提交类型，必须是以下之一：
       - 🌟 `feat`：新功能(如新增API、新增功能模块等)
       - 🐛 `fix`：修复bug(如修复系统崩溃、内存泄漏等)
       - 📚 `docs`：文档更新(如API文档、README等)
       - 💅 `style`：代码格式修改(空格、缩进、换行、注释等)
       - ♻️ `refactor`：代码重构(不改变功能的情况下优化代码结构)
       - ⚡️ `perf`：性能优化(提升代码执行效率)
       - ✅ `test`：测试相关(新增/修改测试用例)
       - 🔧 `chore`：构建过程或辅助工具的变动
       - 🗑️ `del`：删除文件/代码
       - ⏪ `revert`：回滚之前的提交
     - 🔍 scope：修改范围，例如:
       - fota：固件升级模块
       - mqtt：MQTT协议模块
       - wifi：WiFi模块
       - ble：蓝牙模块
       - driver：驱动模块
       - utils：工具模块
     - 📌 subject：简明扼要的修改描述(不超过50个字符)
       - 使用动词开头，使用第一人称现在时
       - 第一个字母小写
       - 结尾不加句号

  2. 📋 详细说明 `<body>`
     - 必须详细描述：
       - ❓ 为什么要修改：
         - 修复了什么问题
         - 新增了什么需求
         - 优化了什么性能
       - ✨ 修改了什么：
         - 列出主要的修改点
         - 描述具体的改动内容
         - 说明受影响的功能
       - 💡 实现思路：
         - 采用什么技术方案
         - 为什么选择这个方案
         - 方案的优缺点分析
     - 📢 编写要求：
       - 使用清晰的语言，避免晦涩难懂的词句
       - 使用中文描述，保持语言统一
       - 分段描述，层次分明
       - 重要信息需加粗或高亮显示

## 🎨 代码风格

为了保持代码的一致性和可读性，我们制定了详细的代码风格指南。请参考 WM_IoT_SDK 在线文档中的 [代码风格](https://doc.winnermicro.net/w800/zh_CN/latest/contribute/code_style.html) 章节了解完整规范。

### 🛠️ 自动格式化工具

本项目使用 clang-format 工具来自动格式化代码，确保代码风格的统一：

- 📄 配置文件：项目根目录下的 `.clang-format` 
- 📖 使用方法：请参考 [ClangFormat 官方文档](https://clang.llvm.org/docs/ClangFormat.html)
- 💡 建议：提交代码前请先运行 clang-format 进行格式化
- ⚠️ 注意：第三方代码不得格式化，请尽量保持第三方代码的原有风格

> 💡 提示：良好的代码风格不仅提高了代码的可读性，也有助于团队协作和代码维护。


## 🤝 贡献者行为准则

我们致力于为所有参与者提供一个开放、友好、包容的社区环境。

### 🌟 我们的承诺

作为社区成员、贡献者和管理员，我们承诺:

- 🙏 尊重每个人，无论其背景、身份或观点
- 🤗 以专业和友善的态度进行交流
- 👂 对建设性的批评持开放态度
- 💪 关注整个社区的最佳利益
- 💬 保持开放和透明的沟通方式

### ⭐ 行为标准

积极行为包括:
- ❤️ 对他人表现出同理心和善意
- 🌈 尊重不同的观点和经验
- 🎯 提供和接受建设性的反馈
- 🔄 为错误承担责任并从中吸取教训
- 🤲 积极帮助新成员融入社区
- 📚 分享知识和经验

不可接受的行为包括:
- 🚫 使用不当语言或图像
- ⛔ 人身攻击或贬低性评论
- ❌ 任何形式的骚扰行为
- 🔒 未经许可发布他人隐私信息
- ⚠️ 其他不专业或不当的行为
- 🚯 散布虚假或误导性信息

### 🛠️ 执行准则

对于违反行为准则的情况，社区管理员将采取以下措施:
1. 📝 首次违规 - 给予私下警告，说明具体问题
2. ⚡ 再次违规 - 公开警告并要求改正
3. 🚷 持续违规 - 临时或永久禁止参与社区活动
4. ⛔ 特别严重的违规可能直接导致永久禁止

### 📮 报告流程

如遇到违规行为，请通过以下方式报告:
- 📧 发送邮件至项目管理员(githubadmin@winnermicro.com)
- 🎫 在 GitHub Issues 中提交问题
- 📞 直接联系社区管理员

所有报告都将:
- ⚡ 得到及时处理
- 🔐 严格保密
- ⚖️ 公平公正地调查
- 🎯 采取适当的行动

> 💡 本行为准则基于 [Contributor Covenant](https://www.contributor-covenant.org)，旨在建立一个健康积极的开源社区。
